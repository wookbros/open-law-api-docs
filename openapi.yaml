openapi: 3.0.3
info:
  title: 법제처 Open API
  description: |
    국가법령정보 공동활용 Open API.
    법제처 사이트에서 제공되는 검색에 대한 결과를 XML/JSON으로 받아볼 수 있는 대화형 서비스이다.

    - [국가법령정보 공동활용](https://open.law.go.kr/LSO/index.html)
  version: 1.0.0

servers:
  - url: /api
    description: Vercel 프록시 (법제처 Open API)

tags:
  - name: 판례
    description: 판례 목록 조회 및 본문 조회
  - name: 법령
    description: 현행법령(시행일) 목록 조회 및 본문 조회

paths:
  /lawSearch.do:
    get:
      tags:
        - 판례
      summary: 판례 목록 조회
      description: 판례를 검색하고 목록을 조회한다.
      operationId: searchPrec
      parameters:
        - name: target
          in: query
          required: true
          schema:
            type: string
            enum: [prec]
            default: prec
          description: "서비스 대상 (고정값: prec)"
        - name: OC
          in: query
          required: true
          schema:
            type: string
          description: "사용자 이메일의 ID (예: g4c@korea.kr일 경우 OC값=g4c)"
        - name: type
          in: query
          required: true
          schema:
            type: string
            enum: [HTML, XML, JSON]
            default: JSON
          description: "출력 형태"
        - name: search
          in: query
          schema:
            type: integer
            enum: [1, 2]
            default: 1
          description: "검색범위 (1: 판례명, 2: 본문검색)"
        - name: query
          in: query
          schema:
            type: string
          description: 검색범위에서 검색을 원하는 질의 (정확한 검색을 위한 문자열 검색 query="자동차")
        - name: display
          in: query
          schema:
            type: integer
            default: 20
            maximum: 100
          description: 검색된 결과 개수 (default=20, max=100)
        - name: page
          in: query
          schema:
            type: integer
            default: 1
          description: 검색 결과 페이지 (default=1)
        - name: org
          in: query
          schema:
            type: string
            enum: ["400201", "400202"]
          description: "법원종류 (대법원: 400201, 하위법원: 400202)"
        - name: curt
          in: query
          schema:
            type: string
          description: 법원명 (대법원, 서울고등법원, 광주지법, 인천지방법원)
        - name: JO
          in: query
          schema:
            type: string
          description: 참조법령명 (형법, 민법 등)
        - name: gana
          in: query
          schema:
            type: string
          description: 사전식 검색 (ga, na, da, ..., etc)
        - name: sort
          in: query
          schema:
            type: string
            enum: [lasc, ldes, dasc, ddes, nasc, ndes]
            default: ddes
          description: |
            정렬옵션
            - lasc: 사건명 오름차순
            - ldes: 사건명 내림차순
            - dasc: 선고일자 오름차순
            - ddes: 선고일자 내림차순 (기본)
            - nasc: 법원명 오름차순
            - ndes: 법원명 내림차순
        - name: date
          in: query
          schema:
            type: integer
          description: 판례 선고일자
        - name: pmcYd
          in: query
          schema:
            type: string
          description: 선고일자 검색 (20090101~20090130)
        - name: nb
          in: query
          schema:
            type: string
          description: 판례 사건번호
        - name: datSrcNm
          in: query
          schema:
            type: string
          description: 데이터출처명 (국세법령정보시스템, 근로복지공단산재판례, 대법원)
        - name: popYn
          in: query
          schema:
            type: string
            enum: ["Y"]
          description: "상세화면 팝업창 여부 (팝업창으로 띄우고 싶을 때만 popYn=Y)"
      responses:
        "200":
          description: 판례 목록 조회 성공
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PrecSearchResponse"

  /lawService.do:
    get:
      tags:
        - 판례
      summary: 판례 본문 조회
      description: 판례 일련번호(ID)로 판례 상세 본문을 조회한다.
      operationId: getPrecDetail
      parameters:
        - name: target
          in: query
          required: true
          schema:
            type: string
            enum: [prec]
            default: prec
          description: "서비스 대상 (고정값: prec)"
        - name: OC
          in: query
          required: true
          schema:
            type: string
          description: 사용자 이메일의 ID
        - name: type
          in: query
          required: true
          schema:
            type: string
            enum: [HTML, XML, JSON]
            default: JSON
          description: "출력 형태 (국세청 판례 본문 조회는 HTML만 가능)"
        - name: ID
          in: query
          required: true
          schema:
            type: integer
          description: 판례 일련번호
        - name: LM
          in: query
          schema:
            type: string
          description: 판례명
      responses:
        "200":
          description: 판례 본문 조회 성공
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PrecServiceResponse"

  /lawSearch.do_eflaw:
    get:
      tags:
        - 법령
      summary: 현행법령(시행일) 목록 조회
      description: |
        시행일 기준으로 현행법령 목록을 조회한다.
        실제 요청 URL은 `/DRF/lawSearch.do?target=eflaw`이다.
      operationId: searchEflaw
      parameters:
        - name: target
          in: query
          required: true
          schema:
            type: string
            enum: [eflaw]
            default: eflaw
          description: "서비스 대상 (고정값: eflaw)"
        - name: OC
          in: query
          required: true
          schema:
            type: string
          description: 사용자 이메일의 ID
        - name: type
          in: query
          schema:
            type: string
            enum: [HTML, XML, JSON]
            default: XML
          description: "출력 형태 (생략시 기본값: XML)"
        - name: search
          in: query
          schema:
            type: integer
            enum: [1, 2]
            default: 1
          description: "검색범위 (1: 법령명, 2: 본문검색)"
        - name: query
          in: query
          schema:
            type: string
          description: 법령명에서 검색을 원하는 질의 (정확한 검색을 위한 문자열 검색 query="자동차")
        - name: nw
          in: query
          schema:
            type: integer
            enum: [1, 2, 3]
            default: 3
          description: |
            1: 연혁, 2: 시행예정, 3: 현행 (기본값: 전체)
            - 연혁+예정: nw=1,2
            - 예정+현행: nw=2,3
            - 연혁+현행: nw=1,3
            - 연혁+예정+현행: nw=1,2,3
        - name: LID
          in: query
          schema:
            type: string
          description: 법령 ID (LID=830)
        - name: display
          in: query
          schema:
            type: integer
            default: 20
            maximum: 100
          description: 검색된 결과 개수 (default=20, max=100)
        - name: page
          in: query
          schema:
            type: integer
            default: 1
          description: 검색 결과 페이지 (default=1)
        - name: sort
          in: query
          schema:
            type: string
            enum: [lasc, ldes, dasc, ddes, nasc, ndes, efasc, efdes]
            default: lasc
          description: |
            정렬옵션 (기본: lasc 법령 오름차순)
            - lasc/ldes: 법령 오름/내림차순
            - dasc/ddes: 공포일자 오름/내림차순
            - nasc/ndes: 공포번호 오름/내림차순
            - efasc/efdes: 시행일자 오름/내림차순
        - name: efYd
          in: query
          schema:
            type: string
          description: 시행일자 범위 검색 (20090101~20090130)
        - name: date
          in: query
          schema:
            type: string
          description: 공포일자 검색
        - name: ancYd
          in: query
          schema:
            type: string
          description: 공포일자 범위 검색 (20090101~20090130)
        - name: ancNo
          in: query
          schema:
            type: string
          description: 공포번호 범위 검색 (306~400)
        - name: rrClsCd
          in: query
          schema:
            type: string
          description: |
            법령 제개정 종류
            - 300201: 제정
            - 300202: 일부개정
            - 300203: 전부개정
            - 300204: 폐지
            - 300205: 폐지제정
            - 300206: 일괄개정
            - 300207: 일괄폐지
            - 300209: 타법개정
            - 300210: 타법폐지
            - 300208: 기타
        - name: nb
          in: query
          schema:
            type: integer
          description: 법령의 공포번호 검색
        - name: org
          in: query
          schema:
            type: string
          description: 소관부처별 검색 (소관부처코드 제공)
        - name: knd
          in: query
          schema:
            type: string
          description: 법령종류 (코드제공)
        - name: gana
          in: query
          schema:
            type: string
          description: 사전식 검색 (ga, na, da, ..., etc)
        - name: popYn
          in: query
          schema:
            type: string
            enum: ["Y"]
          description: "상세화면 팝업창 여부 (팝업창으로 띄우고 싶을 때만 popYn=Y)"
      responses:
        "200":
          description: 법령 목록 조회 성공
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EflawSearchResponse"
      servers:
        - url: http://www.law.go.kr/DRF
          description: "실제 요청 경로: /DRF/lawSearch.do?target=eflaw"

  /lawService.do_eflaw:
    get:
      tags:
        - 법령
      summary: 현행법령(시행령) 본문 조회
      description: |
        법령 ID 또는 MST 번호로 법령 상세 본문을 조회한다.
        실제 요청 URL은 `/DRF/lawService.do?target=eflaw`이다.
      operationId: getEflawDetail
      parameters:
        - name: target
          in: query
          required: true
          schema:
            type: string
            enum: [eflaw]
            default: eflaw
          description: "서비스 대상 (고정값: eflaw)"
        - name: OC
          in: query
          required: true
          schema:
            type: string
          description: 사용자 이메일의 ID
        - name: type
          in: query
          schema:
            type: string
            enum: [HTML, XML, JSON]
            default: XML
          description: "출력 형태 (생략시 기본값: XML)"
        - name: ID
          in: query
          schema:
            type: string
          description: 법령 ID (ID 또는 MST 중 하나는 반드시 입력, ID로 검색하면 그 법령의 현행 법령 본문 조회)
        - name: MST
          in: query
          schema:
            type: integer
          description: 법령 마스터 번호 (법령데이터테이블의 lsi_seq 값을 의미함)
        - name: efYd
          in: query
          schema:
            type: integer
          description: 법령의 시행일자 (ID 입력시에는 무시하는 값으로 입력하지 않음)
        - name: JO
          in: query
          schema:
            type: integer
          description: |
            조번호 (선택, 기본값: 모든 조문 표시함)
            6자리숫자: 조번호(4자리)+조가지번호(2자리)
            - 000200: 2조
            - 001002: 10조의 2
        - name: chrClsCd
          in: query
          schema:
            type: string
            enum: ["010202", "010201"]
            default: "010202"
          description: |
            원문/한글 여부
            - 010202: 한글 (기본값)
            - 010201: 원문
      responses:
        "200":
          description: 법령 본문 조회 성공
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EflawServiceResponse"
      servers:
        - url: http://www.law.go.kr/DRF
          description: "실제 요청 경로: /DRF/lawService.do?target=eflaw"

components:
  schemas:
    PrecSearchResponse:
      type: object
      properties:
        PrecSearch:
          type: object
          properties:
            target:
              type: string
              description: 검색 대상
            totalCnt:
              type: string
              description: 검색결과 총수
            page:
              type: string
              description: 출력 페이지
            section:
              type: string
              description: 검색범위 (evtNm/bdyText)
            키워드:
              type: string
              description: 검색어
            prec:
              type: array
              items:
                $ref: "#/components/schemas/PrecListItem"

    PrecListItem:
      type: object
      properties:
        id:
          type: string
          description: 검색결과 순번
        판례일련번호:
          type: string
          description: 판례 고유 일련번호
        사건명:
          type: string
          description: 사건 제목
        사건번호:
          type: string
          description: "사건번호 (예: 대법원-2025-두-34754)"
        선고일자:
          type: string
          description: "선고일자 (예: 2026.12.11)"
        선고:
          type: string
          description: 선고 구분
        법원명:
          type: string
          description: 법원명
        법원종류코드:
          type: string
          description: "법원종류코드 (대법원: 400201)"
        사건종류명:
          type: string
          description: "사건종류명 (예: 일반행정)"
        사건종류코드:
          type: string
          description: "사건종류코드 (예: 400107)"
        판결유형:
          type: string
          description: 판결 유형
        데이터출처명:
          type: string
          description: "데이터 출처명 (예: 국세법령정보시스템)"
        판례상세링크:
          type: string
          description: 상세조회 URL

    PrecServiceResponse:
      type: object
      properties:
        PrecService:
          type: object
          properties:
            판례정보일련번호:
              type: integer
              description: 판례 고유 식별자 (PK)
            사건명:
              type: string
              description: 사건 제목
            사건번호:
              type: string
              description: "사건번호 (예: 2021도3451)"
            선고일자:
              type: string
              description: "선고일자 (예: 20220819)"
            선고:
              type: string
              description: "선고 구분 (예: 선고)"
            법원명:
              type: string
              description: "법원명 (예: 대법원)"
            법원종류코드:
              type: integer
              description: "법원종류코드 (대법원: 400201, 하위법원: 400202)"
            사건종류명:
              type: string
              description: "사건종류명 (예: 형사)"
            사건종류코드:
              type: integer
              description: "사건종류코드 (예: 400102)"
            판결유형:
              type: string
              description: "판결유형 (예: 판결)"
            판시사항:
              type: string
              description: 판시사항 전문
            판결요지:
              type: string
              description: 판결요지 전문
            참조조문:
              type: string
              description: 관련 법조문
            참조판례:
              type: string
              description: 관련 판례 목록
            판례내용:
              type: string
              description: 판례 본문 전체 (HTML)

    EflawSearchResponse:
      type: object
      properties:
        LawSearch:
          type: object
          properties:
            target:
              type: string
              description: 검색서비스 대상
            totalCnt:
              type: string
              description: 검색결과 총수
            page:
              type: string
              description: 출력 페이지
            section:
              type: string
              description: 검색범위
            키워드:
              type: string
              description: 검색어
            resultCode:
              type: string
              description: 결과 코드
            resultMsg:
              type: string
              description: 결과 메시지
            numOfRows:
              type: string
              description: 페이지당 결과수
            law:
              type: array
              items:
                $ref: "#/components/schemas/EflawListItem"

    EflawListItem:
      type: object
      properties:
        id:
          type: string
          description: 검색결과 순번
        법령ID:
          type: string
          description: "법령 ID (예: 010719)"
        법령일련번호:
          type: string
          description: MST 번호 (버전별 고유)
        법령명한글:
          type: string
          description: "법령명 한글 (예: 자동차관리법)"
        법령약칭명:
          type: string
          description: 법령 약칭
        법령구분명:
          type: string
          description: "법령 구분 (예: 법률)"
        소관부처명:
          type: string
          description: "소관부처명 (예: 국토교통부)"
        소관부처코드:
          type: string
          description: "소관부처코드 (예: 1613000)"
        공포일자:
          type: string
          description: "공포일자 (예: 20241203)"
        공포번호:
          type: string
          description: "공포번호 (예: 20554)"
        시행일자:
          type: string
          description: "시행일자 (예: 20251204)"
        제개정구분명:
          type: string
          description: "제개정 구분 (예: 일부개정)"
        현행연혁코드:
          type: string
          description: 현행/연혁 구분
        자법타법여부:
          type: string
          description: 자법/타법 구분
        공동부령정보:
          type: string
          description: 공동부령 정보
        법령상세링크:
          type: string
          description: 상세조회 URL

    EflawServiceResponse:
      type: object
      properties:
        법령:
          type: object
          properties:
            법령키:
              type: string
              description: 법령 버전 고유키
            기본정보:
              $ref: "#/components/schemas/EflawBasicInfo"
            조문:
              type: object
              properties:
                조문단위:
                  type: array
                  items:
                    $ref: "#/components/schemas/EflawArticle"
            부칙:
              type: object
              properties:
                부칙단위:
                  type: array
                  items:
                    $ref: "#/components/schemas/EflawAddendum"
            제개정이유:
              type: object
              properties:
                제개정이유내용:
                  type: string
                  description: 제개정 사유 전문
            개정문:
              type: object
              properties:
                개정문내용:
                  description: 개정문 본문

    EflawBasicInfo:
      type: object
      properties:
        법령ID:
          type: string
          description: "법령 ID (예: 001747)"
        법령명_한글:
          type: string
          description: "법령명 한글 (예: 자동차관리법)"
        법령명_한자:
          type: string
          description: 법령명 한자
        법령명약칭:
          type: string
          description: 법령 약칭
        법종구분:
          type: object
          properties:
            content:
              type: string
              description: "법종 구분명 (예: 법률)"
            법종구분코드:
              type: string
              description: 법종 구분 코드
        공포일자:
          type: integer
          description: "공포일자 (예: 20241203)"
        공포번호:
          type: integer
          description: "공포번호 (예: 20554)"
        시행일자:
          type: integer
          description: "시행일자 (예: 20251204)"
        제개정구분:
          type: string
          description: "제개정 구분 (예: 일부개정)"
        소관부처:
          type: object
          properties:
            content:
              type: string
              description: "소관부처명 (예: 국토교통부)"
            소관부처코드:
              type: string
              description: "소관부처코드 (예: 1613000)"
        공동부령정보:
          type: string
          description: 공동부령 정보
        공포법령여부:
          type: string
          description: Y/N
        언어:
          type: string
          description: 한글/원문
        편장절관:
          type: integer
          description: 편장절관 코드

    EflawArticle:
      type: object
      properties:
        조문키:
          type: string
          description: "조문 고유키 (예: 0001000)"
        조문번호:
          type: integer
          description: 조 번호
        조문제목:
          type: string
          description: 조문 제목
        조문내용:
          type: string
          description: 조문 본문 텍스트
        조문시행일자:
          type: integer
          description: 시행일자
        조문제개정유형:
          type: string
          description: "제개정 유형 (예: 일부개정)"
        조문변경여부:
          type: string
          description: "변경 여부 (Y/N)"
        조문이동이전:
          type: string
          description: 이동 전 위치
        조문이동이후:
          type: string
          description: 이동 후 위치
        조문여부:
          type: string
          description: 전문/항 구분

    EflawAddendum:
      type: object
      properties:
        부칙키:
          type: string
          description: 부칙 고유키
        부칙공포일자:
          type: string
          description: 공포일자
        부칙공포번호:
          type: string
          description: 공포번호
        부칙내용:
          type: string
          description: 부칙 본문
